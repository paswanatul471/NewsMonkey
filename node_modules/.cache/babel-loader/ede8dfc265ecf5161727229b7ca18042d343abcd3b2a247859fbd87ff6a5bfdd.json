{"ast":null,"code":"import _regeneratorRuntime from\"E:/workspace/newsapp/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"E:/workspace/newsapp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"E:/workspace/newsapp/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"E:/workspace/newsapp/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"E:/workspace/newsapp/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"E:/workspace/newsapp/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import NewsItems from'./NewsItems';import Gif from'./Gif';import InfiniteScroll from'react-infinite-scroll-component';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";export var News=/*#__PURE__*/function(_Component){_inherits(News,_Component);var _super=_createSuper(News);function News(props){var _this;_classCallCheck(this,News);_this=_super.call(this,props);_this.articles=[];_this.capitalizeFirstLetter=function(string){return string.charAt(0).toUpperCase()+string.slice(1);};_this.handlePrevclick=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.setState({page:_this.state.page-1});_this.updateNews();case 2:case\"end\":return _context.stop();}}},_callee);}));_this.handleNextclick=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_this.setState({page:_this.state.page+1});_this.updateNews();case 2:case\"end\":return _context2.stop();}}},_callee2);}));_this.fetchData=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var url,data,parseData;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_this.setState({page:_this.state.page+1});url=\"https://newsapi.org/v2/top-headlines?country=\".concat(_this.props.country,\"&category=\").concat(_this.props.category,\"&apiKey=12b57f3f5a6b4ba0a04e4df8a2627c02&page=\").concat(_this.state.page,\"&pageSize=\").concat(_this.props.pageSize);_this.setState({loading:true});_context3.next=5;return fetch(url);case 5:data=_context3.sent;_context3.next=8;return data.json();case 8:parseData=_context3.sent;console.log(parseData);_this.setState({articles:_this.state.articles.concat(parseData.articles),totalResults:parseData.totalResults,loading:false});case 11:case\"end\":return _context3.stop();}}},_callee3);}));console.log(\"I am a constructor from news\");_this.state={articles:_this.articles,loading:false,page:1,toUpperCase:0};document.title=\"\".concat(_this.capitalizeFirstLetter(_this.props.category),\" - NewsMokey\");return _this;}_createClass(News,[{key:\"updateNews\",value:function(){var _updateNews=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(){var url,data,parseData;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:this.props.setProgress(10);url=\"https://newsapi.org/v2/top-headlines?country=\".concat(this.props.country,\"&category=\").concat(this.props.category,\"&apiKey=12b57f3f5a6b4ba0a04e4df8a2627c02&page=\").concat(this.state.page,\"&pageSize=\").concat(this.props.pageSize);this.setState({loading:true});this.props.setProgress(30);_context4.next=6;return fetch(url);case 6:data=_context4.sent;this.props.setProgress(50);_context4.next=10;return data.json();case 10:parseData=_context4.sent;console.log(parseData);this.setState({articles:parseData.articles,totalResults:parseData.totalResults,loading:false});this.props.setProgress(100);case 14:case\"end\":return _context4.stop();}}},_callee4,this);}));function updateNews(){return _updateNews.apply(this,arguments);}return updateNews;}()},{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(){return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:this.updateNews();case 1:case\"end\":return _context5.stop();}}},_callee5,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"container my-3\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"mt-2\",children:[\"NewsMonkey - Top \",this.capitalizeFirstLetter(this.props.category),\" Headlines\"]}),/*#__PURE__*/_jsx(InfiniteScroll,{dataLength:this.state.articles.length//This is important field to render the next data\n,next:this.fetchData,hasMore:this.state.articles.length!==this.state.totalResults,loader:/*#__PURE__*/_jsx(Gif,{}),children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row mt-5\",children:this.state.articles.map(function(element){return/*#__PURE__*/_jsx(\"div\",{className:\"col md-4\",children:/*#__PURE__*/_jsx(NewsItems,{title:element.title?element.title:\"\",description:element.description?element.description:\"\",imageUrl:element.urlToImage,newsUrl:element.url,author:element.author,date:element.publishedAt,source:element.source.name})},element.url);})})})})]});}}]);return News;}(Component);News.defaultProps={country:'in',pageSize:5,category:'general'};export default News;","map":{"version":3,"names":["React","Component","NewsItems","Gif","InfiniteScroll","News","props","articles","capitalizeFirstLetter","string","charAt","toUpperCase","slice","handlePrevclick","setState","page","state","updateNews","handleNextclick","fetchData","url","country","category","pageSize","loading","fetch","data","json","parseData","console","log","concat","totalResults","document","title","setProgress","length","map","element","description","urlToImage","author","publishedAt","source","name","defaultProps"],"sources":["E:/workspace/newsapp/src/components/News.js"],"sourcesContent":["import React, { Component } from 'react'\r\nimport NewsItems from './NewsItems'\r\nimport Gif from './Gif';\r\nimport Proptypes from 'prop-types'\r\nimport InfiniteScroll from 'react-infinite-scroll-component';\r\n\r\nexport class News extends Component {\r\n\r\n  static defaultProps = {\r\n    country: 'in',\r\n    pageSize: 5,\r\n    category: 'general',\r\n\r\n  }\r\n  static propTypes = {\r\n    country: Proptypes.string,\r\n    pageSize: Proptypes.number,\r\n    category: Proptypes.string\r\n\r\n  }\r\n\r\n  articles = []\r\n  capitalizeFirstLetter = (string) => {\r\n    return string.charAt(0).toUpperCase() + string.slice(1);\r\n  }\r\n  constructor(props) {\r\n    super(props);\r\n    console.log(\"I am a constructor from news\");\r\n    this.state = {\r\n      articles: this.articles,\r\n      loading: false,\r\n      page: 1,\r\n      toUpperCase:0\r\n    }\r\n    document.title = `${this.capitalizeFirstLetter(this.props.category)} - NewsMokey`;\r\n  }\r\n  async updateNews() {\r\n    this.props.setProgress(10);\r\n    let url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=12b57f3f5a6b4ba0a04e4df8a2627c02&page=${this.state.page}&pageSize=${this.props.pageSize}`;\r\n    this.setState({ loading: true });\r\n    this.props.setProgress(30);\r\n    let data = await fetch(url);\r\n    this.props.setProgress(50);\r\n    let parseData = await data.json()\r\n    console.log(parseData);\r\n    this.setState({\r\n      articles: parseData.articles,\r\n      totalResults: parseData.totalResults,\r\n      loading: false\r\n    })\r\n    this.props.setProgress(100);\r\n\r\n  }\r\n  async componentDidMount() {\r\n    this.updateNews();\r\n  }\r\n  handlePrevclick = async () => {\r\n\r\n    this.setState({ page: this.state.page - 1 })\r\n    this.updateNews();\r\n  }\r\n  handleNextclick = async () => {\r\n    this.setState({ page: this.state.page + 1 })\r\n    this.updateNews();\r\n\r\n  }\r\n  fetchData = async() =>{\r\n    this.setState({page: this.state.page +1});\r\n    let url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=12b57f3f5a6b4ba0a04e4df8a2627c02&page=${this.state.page}&pageSize=${this.props.pageSize}`;\r\n    this.setState({ loading: true });\r\n    let data = await fetch(url);\r\n    let parseData = await data.json()\r\n    console.log(parseData);\r\n    this.setState({\r\n      articles: this.state.articles.concat(parseData.articles),\r\n      totalResults: parseData.totalResults,\r\n      loading: false\r\n    })\r\n\r\n  }\r\n  render() {\r\n    return (\r\n      <div className='container my-3'>\r\n        <h2 className='mt-2'>NewsMonkey - Top {this.capitalizeFirstLetter(this.props.category)} Headlines</h2>\r\n        {/* {this.state.loading && <Gif/>} */}\r\n        <InfiniteScroll\r\n            dataLength={this.state.articles.length} //This is important field to render the next data\r\n            next={this.fetchData}\r\n            hasMore={this.state.articles.length !== this.state.totalResults}\r\n            loader={<Gif/>}>\r\n            <div className=\"container\">\r\n              <div className=\"row mt-5\">\r\n                  {this.state.articles.map((element) => {\r\n                    return <div className=\"col md-4\" key={element.url}>\r\n                      <NewsItems title={element.title ? element.title : \"\"} description={element.description ? element.description : \"\"} imageUrl={element.urlToImage} newsUrl={element.url} author={element.author} date={element.publishedAt} source={element.source.name} />\r\n                    </div>\r\n                  })}\r\n\r\n\r\n              </div>\r\n        </div>\r\n        </InfiniteScroll>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default News"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}